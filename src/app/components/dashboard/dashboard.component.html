<div class="dashboard">
  <div class="dashboard-header mb-6">
    <h1>Dashboard Overview</h1>
    <p class="text-muted">Welcome to Student Management System. Here's what's happening today.</p>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading dashboard data...</p>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!loading">
    <!-- Stats Cards -->
    <div class="stats-grid mb-6">
      <div class="stat-card">
        <div class="stat-icon bg-primary">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalStudents }}</h3>
          <p>Total Students</p>
        </div>
        <div class="stat-badge badge-success">
          {{ stats.activeStudents }} Active
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-secondary">
          <i class="fas fa-chalkboard"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalClasses }}</h3>
          <p>Total Classes</p>
        </div>
        <div class="stat-badge badge-success">
          {{ stats.activeClasses }} Active
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-success">
          <i class="fas fa-building"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalDepartments }}</h3>
          <p>Departments</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon bg-info">
          <i class="fas fa-book"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalCourses }}</h3>
          <p>Courses</p>
        </div>
      </div>
    </div>

    <!-- Recent Activity Section -->
    <div class="activity-grid">
      <!-- Recent Students -->
      <div class="activity-card">
        <div class="activity-header">
          <h3>Recent Students</h3>
          <a routerLink="/students" class="view-all">View All →</a>
        </div>
        <div class="activity-content">
          <div *ngIf="recentStudents.length === 0" class="empty-state">
            <i class="fas fa-user-graduate"></i>
            <p>No students found</p>
          </div>
          
          <div *ngFor="let student of recentStudents" class="activity-item">
            <div class="activity-avatar">
              <i class="fas fa-user-circle"></i>
            </div>
            <div class="activity-info">
              <div class="activity-title">{{ student.name }}</div>
              <div class="activity-subtitle">{{ student.rollNumber }}</div>
            </div>
            <div class="activity-status">
              <span [class]="'badge ' + getStatusBadgeClass(student.status)">
                {{ student.status }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Classes -->
      <div class="activity-card">
        <div class="activity-header">
          <h3>Recent Classes</h3>
          <a routerLink="/classes" class="view-all">View All →</a>
        </div>
        <div class="activity-content">
          <div *ngIf="recentClasses.length === 0" class="empty-state">
            <i class="fas fa-chalkboard"></i>
            <p>No classes found</p>
          </div>
          
          <div *ngFor="let cls of recentClasses" class="activity-item">
            <div class="activity-avatar">
              <i class="fas fa-chalkboard-teacher"></i>
            </div>
            <div class="activity-info">
              <div class="activity-title">{{ cls.className }} - {{ cls.section }}</div>
              <div class="activity-subtitle">{{ cls.academicYear }}</div>
            </div>
            <div class="activity-status">
              <span class="badge" [class.badge-success]="cls.currentStrength < cls.capacity"
                              [class.badge-warning]="cls.currentStrength >= cls.capacity">
                {{ cls.currentStrength }}/{{ cls.capacity }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions mt-6">
      <h3 class="mb-4">Quick Actions</h3>
      <div class="actions-grid">
        <a routerLink="/students/new" class="action-card">
          <i class="fas fa-user-plus"></i>
          <span>Add New Student</span>
        </a>
        <a routerLink="/classes/new" class="action-card">
          <i class="fas fa-plus-circle"></i>
          <span>Create Class</span>
        </a>
        <a routerLink="/departments/new" class="action-card">
          <i class="fas fa-building"></i>
          <span>Add Department</span>
        </a>
        <a routerLink="/courses/new" class="action-card">
          <i class="fas fa-book-medical"></i>
          <span>Create Course</span>
        </a>
      </div>
    </div>
  </div>
</div>